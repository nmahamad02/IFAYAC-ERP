<div class="container-fluid">
    <div class="row no-gutters">
        <div class="visualization-heading col-12">
            <div class="heading-info">
                <div class="row">
                    <div class="col-10">                
                        <h3 class="heading-title">Project Cost Analysis</h3>
                    </div>
                    <div class="col-2">
                        <div class="row">
                            <div class="col">
                                <button class="btn-danger text-white btn btn-block btn-sm"  title="Search Project" style="float: right" (click)="searchProject()">
                                    <mat-icon>search</mat-icon> <!--Search Customer-->
                                </button>
                            </div>
                            <div class="col">
                                <button class="btn-info text-white btn btn-block btn-sm"  title="Print Project Cost Analysis" style="float: right" (click)="getProjectCostAnalysis()">
                                    <mat-icon>print</mat-icon> <!--Print Customer Statement of Account-->
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="row">
                    <div class="col-5">
                        <div class="mb-3">
                            <input type="text" [(ngModel)]="searchText" class="form-control form-control-sm" placeholder="Search Projects..." />
                        </div>
                        <table class="table table-hover table-responsive-xxl table-sm">
                            <thead class="table-dark">
                                <tr class="table-reflow">
                                    <th>PROJECT</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let proj of (projectList | filterTable:searchText| slice:0:5); let i = index;">
                                    <td>{{ proj.PrjName }}</td>
                                    <td>
                                        <button class="btn btn-sm btn-secondary" (click)="goToDetailForm(proj.PrjCode)" title="View Project Details">
                                            <mat-icon>edit</mat-icon>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col">
                        <div class="row">
                            <div class="col-8">
                                <select [(ngModel)]="selectedBusiCentre" class="form-control form-control-sm">
                                    <option value="NULL">--- Please select a business centre ---</option>
                                    <option *ngFor="let buCe of busiCentreList" [value]="buCe.U_BusiCenter">
                                       {{ buCe.U_BusiCenter }}
                                    </option>
                                </select>                    
                            </div>
                            <div class="col-3">
                                <select class="form-select form-select-sm" [(ngModel)]="fYear">
                                    <option *ngFor="let y of years" [value]="y">{{ y }}</option>
                                </select>                            
                            </div>
                            <div class="col-1">
                                <button class="btn btn-sm btn-warning" (click)="filterProjectData(selectedBusiCentre,fYear.toString())" >Filter</button>                           
                            </div>
                        </div>
                        <br>
                        <form [formGroup]="projForm" class="form-container">
                            <div class="row">
                                <div class="col-4">
                                    <mat-label >Project Code </mat-label>
                                    <input  matInput class="form-control form-control-sm" #PrjCode formControlName="PrjCode" readonly >
                                </div>
                                <div class="col-8">
                                    <mat-label >Name</mat-label>
                                    <input formControlName="PrjName"  matInput class="form-control form-control-sm" readonly>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <mat-label>POC Type</mat-label>
                                    <input formControlName="U_POCType"  matInput class="form-control form-control-sm" readonly>
                                </div>
                                <div class="col-4">
                                    <mat-label>Business Centre</mat-label>
                                    <input formControlName="U_BusiCenter"  matInput class="form-control form-control-sm" readonly>
                                </div>
                                <div class="col-4">
                                    <mat-label>Project Type</mat-label>
                                    <input formControlName="U_PrjType"  matInput class="form-control form-control-sm" readonly>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <mat-label>Revenue Account</mat-label>
                                    <input formControlName="U_RevAcc"  matInput class="form-control form-control-sm" readonly>
                                </div>
                                <div class="col-3">
                                    <mat-label>Expense Account</mat-label>
                                    <input formControlName="U_ExpAcc"  matInput class="form-control form-control-sm" readonly>
                                </div>
                                <div class="col-3">
                                    <mat-label>Valid From</mat-label>
                                    <input formControlName="ValidFrom"  matInput class="form-control form-control-sm" readonly>
                                </div>
                                <div class="col-3">
                                    <mat-label>Project Status</mat-label>
                                    <input formControlName="Status"  matInput class="form-control form-control-sm" readonly>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <mat-label>Initial Project Value (BHD)</mat-label>
                                    <input formControlName="ipv" matInput class="form-control form-control-sm">                                
                                </div>
                                <div class="col-3">
                                    <mat-label>Estimated Value (BHD)</mat-label>
                                    <input formControlName="epv" matInput class="form-control form-control-sm">                                
                                </div>
                                <div class="col-3">
                                    <mat-label>Actual Project Value (BHD)</mat-label>
                                    <input formControlName="apv" matInput class="form-control form-control-sm">                                
                                </div>
                                <div class="col-3">
                                    <mat-label>Balance (BHD)</mat-label>
                                    <input formControlName="balance" matInput class="form-control form-control-sm">                                
                                </div>
                            </div>
                            <hr>
                        </form>
                    </div>
                </div> 
            </div>
        </div>
    </div>   
</div>
<br>